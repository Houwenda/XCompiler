## t2_grammar.json

2型文法，用于语法分析。

## t3_grammar.json

3型文法，用于词法分析。

### 常数

正则：
```
regex: \d+(\.\d+)?(E(\+|\-)\d+(\.\d+)?)?((\+|\-)(\d+(\.\d+)?)?i)?
simplified: \d+\(.\d+)?(E(\+|-)\d+(\.\d+)?)?(\[+-](\d+(\.\d+)?)?i)?
```

转换过程：
```
(\d+ => \d\d*) => \d\d*(\.\d\d*)?(E(\+|\-)\d\d*(\.\d\d*)?)?((\+|\-)(\d\d*(\.\d\d*)?)?i)?
(x? => (x|)) => \d\d*((\.\d\d*)|)((E(\+|\-)\d\d*((\.\d\d*)|))|)(((\+|\-)((\d\d*((\.\d\d*)|))|)i)|)

step0:
A->\d\d*((\.\d\d*)|)((E(\+|\-)\d\d*((\.\d\d*)|))|)(((\+|\-)((\d\d*((\.\d\d*)|))|)i)|)

step1:
A->\dB (!)
B->\d*((\.\d\d*)|)((E(\+|\-)\d\d*((\.\d\d*)|))|)(((\+|\-)((\d\d*((\.\d\d*)|))|)i)|)

step2:
B->\dB (!)
B->((\.\d\d*)|)((E(\+|\-)\d\d*((\.\d\d*)|))|)(((\+|\-)((\d\d*((\.\d\d*)|))|)i)|)

step3:
B->((\.\d\d*)|)C
C->((E(\+|\-)\d\d*((\.\d\d*)|))|)D
D->(((\+|\-)((\d\d*((\.\d\d*)|))|)i)|)

step4:
B->(\.\d\d*)C ===> B->\.\d\d*C
B->C (!)
C->(E(\+|\-)\d\d*((\.\d\d*)|))D ===> C->\E(\+|\-)\d\d*((\.\d\d*)|)D  (E是字符，不是状态，用转义符加以区分)
C->D (!)
D->((\+|\-)((\d\d*((\.\d\d*)|))|)i) ===> D->(\+|\-)((\d\d*((\.\d\d*)|))|)i
D-><empty> (!)

step5:
B->\.E (!)
E->\d\d*C
C->\EF (!)
F->(\+|\-)\d\d*((\.\d\d*)|)D
D->(\+|\-)G
G->((\d\d*((\.\d\d*)|))|)i

step6:
E->\dH (!)
H->\d*C
F->(\+|\-)I
I->\d\d*((\.\d\d*)|)D
D->\+G (!)
D->\-G (!)
G->(\d\d*((\.\d\d*)|))i ===> G->\d\d*((\.\d\d*)|)i
G->i (!)


step7:
H->\dH (!)
H->C (!)
F->\+I (!)
F->\-I (!)
I->\dJ (!)
J->\d*((\.\d\d*)|)D
G->\dK (!)
K->\d*((\.\d\d*)|)i

step8:
J->\dJ (!)
J->((\.\d\d*)|)D
K->\dK (!)
K->((\.\d\d*)|)i

step9:
J->(\.\d\d*)D ===> J->\.\d\d*D
J->D (!)
K->(\.\d\d*)i ===> K->\.\d\d*i
K-><i> (!)

step10:
J->\.L (!)
L->\d\d*D
K->\.M (!)
M->\d\d*i

step11:
L->\dN (!)
N->\d*D
M->\dO (!)
O->\d*i

step12:
N->\dN (!)
N->D (!)
O->\dO (!)
O->i (!)

```

示例：
```
10
0.1428571
1.46E+10
2.00E-01
12+i
12-10i
13+1.2i
3E+1.0-10.3i
```

产生式
```
A-><digit>B
B-><digit>B
B->C
C->D
D-><empty>
B-><.>E
C-><E>F
E-><digit>H
D-><+>G
D-><->G
G-><i>
H-><digit>H
H->C
F-><+>I
F-><->I
I-><digit>J
G-><digit>K
J-><digit>J
K-><digit>K
J->D
K->i
J-><.>L
K-><.>M
L-><digit>N
M-><digit>O
N-><digit>N
N->D
O-><digit>O
O-><i>

PS：<digit>表示数字，<empty>表示空
```

### 变量名/常量名

正则：
```
[a-zA-Z_][0-9a-zA-Z_]*
```

产生式：
```
A-><letter>B
A-><_>B
B-><letter>B
B-><digit>B
B-><_>B
B-><empty>

PS：<digit>表示数字，<empty>表示空，<letter>表示字母（含大小写）
```

### 字符串

正则：
```
".*"
```

产生式：
```
A-><">B
B-><dot>B",
B-><">

懒惰匹配，<dot>表示除换行和回车外的其他字符

```

状态这里用单个大写字母表示，实际上支持字符串，除END_NODE外（为保留状态）

## code.txt

示例代码，作为词法分析器的输入。
Lua代码
